# Maintainer: Lionel Félicité <deogracia@free.fr>

pkgbase='python-pyenchant'
pkgname=('python3-pyenchant' 'python2-pyenchant')
pkgver=1.6.6
pkgrel=1
pkgdesc="PyEnchant is a spellchecking library for Python3 based on the Enchant library"
arch=('any')
url="https://pypi.python.org/pypi/pyenchant"
license=('LGPL')
makedepends=('python2-setuptools' 'python3-setuptools' 'enchant' 'python2' 'python3')
changelog=$pkgbase.changelog
source=("http://pypi.python.org/packages/source/p/pyenchant/pyenchant-${pkgver}.tar.gz")
sha256sums=('25c9d2667d512f8fc4410465fdd2e868377ca07eb3d56e2b6e534a86281d64d3')

build() {
  cp -r pyenchant-${pkgver} pyenchant2-${pkgver}

  cd ${srcdir}/pyenchant-${pkgver}

  python3 setup.py build

  cd ${srcdir}/pyenchant2-${pkgver}

  python2 setup.py build
}

package_python3-pyenchant() {
  depends=('python3' 'enchant')

  cd pyenchant-${pkgver}
  
  python3 setup.py install --root=${pkgdir} --optimize=1
}

package_python2-pyenchant() {
  depends=('python2' 'enchant')

  cd pyenchant2-${pkgver}
  
  python2 setup.py install --root=${pkgdir} --optimize=1
}
